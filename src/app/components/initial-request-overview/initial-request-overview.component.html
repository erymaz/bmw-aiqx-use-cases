<div class="table-wrapper">
  <ng-container *ngIf="formStep">
    <div class="d-flex align-items-center mb-16">
      <span>
        {{ 'FORMS.TITLES.DESCRIPTION' | translate }}
      </span>
      <a
        class="ml-auto font-bold text-decoration-none"
        [routerLink]="['/use-cases', 'edit', useCase.id, getStepUrl('description')]"
        [queryParams]="{ 'tab-index': 0 }"
      >
        {{ 'USE_CASE.VIEW_FORM' | translate }}
      </a>
    </div>

    <mat-card class="card-info">
      <mat-list>
        <mat-list-item>
          <span>{{ 'FORMS.DESCRIPTION.INSPECTION_DESCRIPTION' | translate }}</span>
          <span>{{ formStep.description }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.DESCRIPTION.COSTS_FOR_USE_CASE' | translate }}</span>
          <span>{{
            (formStep.costsCoveredByDepartment ? 'LABEL.YES' : 'LABEL.NO') | translate
          }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.DESCRIPTION.INSPECTION_FEATURE_AVAILABLE' | translate }}</span>
          <span *ngIf="formStep.inspectionFeatureAvailable?.value">
            {{ formStep.inspectionFeatureAvailable?.productionOrPreSeries }}
          </span>
          <span *ngIf="!formStep.inspectionFeatureAvailable?.value">
            {{ formStep.inspectionFeatureAvailable?.partAvailableFrom | date: 'shortDate' }}
          </span>
        </mat-list-item>
        <mat-list-item>
          <div class="object-view">
            <div class="title">{{ 'FORMS.DESCRIPTION.BENEFITS_LABEL' | translate }}</div>
            <div class="content" *ngFor="let value of getBenefitValues(formStep?.benefits)">
              <div>{{ getBenefitField(value.key).label | translate }}</div>
              <div class="item">
                <div *ngFor="let item of getBenefitField(value.key).subfields">
                  <div>{{ item.label | translate }}: {{ value.value[item.name] }}</div>
                </div>
              </div>
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.DESCRIPTION.BI_RATING' | translate }}</span>
          <span>{{ formStep.biRating }}</span>
        </mat-list-item>
      </mat-list>
    </mat-card>
  </ng-container>

  <ng-container *ngIf="formStep">
    <div class="d-flex align-items-center mb-16">
      <span>
        {{ 'FORMS.TITLES.PROJECT_PLANNING' | translate }}
      </span>
      <a
        class="ml-auto font-bold text-decoration-none"
        [routerLink]="['/use-cases', 'edit', useCase.id, getStepUrl('project_planning')]"
        [queryParams]="{ 'tab-index': 1 }"
      >
        {{ 'USE_CASE.VIEW_FORM' | translate }}
      </a>
    </div>

    <mat-card class="card-info">
      <mat-list>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.COMPLETION_DATE' | translate }}</span>
          <span>{{ formStep.completionDate | date: 'shortDate' }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.REQUESTOR' | translate }}</span>
          <div class="mt-20 mb-20">
            <div>
              {{ 'FORMS.PROJECT_PLANNING.NAME' | translate }}: {{ formStep.requestor?.name }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.DEPARTMENT' | translate }}:
              {{ formStep.requestor?.department }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.FUNCTION' | translate }}:
              {{ formStep.requestor?.function.name }}
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.PROCESS_OR_PLANT_PLANNER' | translate }}</span>
          <div class="mt-20 mb-20">
            <div>{{ 'FORMS.PROJECT_PLANNING.NAME' | translate }}: {{ formStep.planner?.name }}</div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.DEPARTMENT' | translate }}:
              {{ formStep.planner?.department }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.INFORMED' | translate }}:
              {{ (formStep.planner?.informed ? 'LABEL.YES' : 'LABEL.NO') | translate }}
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.PSP' | translate }}</span>
          <div class="mt-20 mb-20">
            <div>{{ 'FORMS.PROJECT_PLANNING.NAME' | translate }}: {{ formStep.planner?.name }}</div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.DEPARTMENT' | translate }}:
              {{ formStep.planner?.department }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.INFORMED' | translate }}:
              {{ (formStep.planner?.informed ? 'LABEL.YES' : 'LABEL.NO') | translate }}
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.QE' | translate }}</span>
          <div class="mt-20 mb-20">
            <div>{{ 'FORMS.PROJECT_PLANNING.NAME' | translate }}: {{ formStep.planner?.name }}</div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.DEPARTMENT' | translate }}:
              {{ formStep.planner?.department }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.INFORMED' | translate }}:
              {{ (formStep.planner?.informed ? 'LABEL.YES' : 'LABEL.NO') | translate }}
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.PROJECT_PLANNING.SECTION' | translate }}</span>
          <div class="mt-20 mb-20">
            <div>{{ 'FORMS.PROJECT_PLANNING.NAME' | translate }}: {{ formStep.planner?.name }}</div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.DEPARTMENT' | translate }}:
              {{ formStep.planner?.department }}
            </div>
            <div>
              {{ 'FORMS.PROJECT_PLANNING.INFORMED' | translate }}:
              {{ (formStep.planner?.informed ? 'LABEL.YES' : 'LABEL.NO') | translate }}
            </div>
          </div>
        </mat-list-item>
      </mat-list>
    </mat-card>
  </ng-container>

  <ng-container *ngIf="formStep">
    <div class="d-flex align-items-center mb-16">
      <span>
        {{ 'FORMS.TITLES.FEATURE_DEFINITION' | translate }}
      </span>
      <a
        class="ml-auto font-bold text-decoration-none"
        [routerLink]="['/use-cases', 'edit', useCase.id, getStepUrl('feature_definition')]"
        [queryParams]="{ 'tab-index': 2 }"
      >
        {{ 'USE_CASE.VIEW_FORM' | translate }}
      </a>
    </div>

    <mat-card class="card-info">
      <mat-list>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.CAMERA_INTEGRATION' | translate }}</span>
          <span>{{ getBoolean(formStep.cameraIntegration) || 'LABEL.UNKNOWN' | translate }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.TYPE_OF_INSPECTION' | translate }}</span>
          <div>
            <div *ngFor="let type of formStep?.typeOfInspection?.name">
              {{ getTypeLabel(type) | translate }}
            </div>
          </div>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.FEATURE_SIZE' | translate }}</span>
          <span>{{ formStep.featureSize }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{
            'FORMS.FEATURE_DEFINITION.POSITION_AND_ORIENTATION_ALWAYS_THE_SAME' | translate
          }}</span>
          <span>{{
            (formStep.samePositionAndOrientation ? 'LABEL.YES' : 'LABEL.NO') | translate
          }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.CAMERA_DISTANCE_CM' | translate }}</span>
          <span>{{ formStep.cameraDistance }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.FEATURE_COLOR_CHANGING' | translate }}</span>
          <span>{{ (formStep.featureColor ? 'LABEL.YES' : 'LABEL.NO') | translate }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.FEATURE_HALTED_OR_MOVING' | translate }}</span>
          <span>{{ formStep.haltedOrMoving }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.POSITION_IN_VEHICLE' | translate }}</span>
          <span>{{
            getPositionInVehicleLabel(formStep?.positionInVehicle?.name) | translate
          }}</span>
        </mat-list-item>
        <mat-list-item>
          <span>{{ 'FORMS.FEATURE_DEFINITION.NUMBER_OF_VARIANTS' | translate }}</span>
          <span>{{ formStep?.numberOfVariants }}</span>
        </mat-list-item>
      </mat-list>
    </mat-card>
  </ng-container>

  <ng-container *ngIf="formStep">
    <div class="d-flex align-items-center mb-16">
      <span>
        {{ 'FORMS.TITLES.EXAMPLE_IMAGES' | translate }}
      </span>
      <a
        class="ml-auto font-bold text-decoration-none"
        [routerLink]="['/use-cases', 'edit', useCase.id, getStepUrl('example_images')]"
        [queryParams]="{ 'tab-index': 3 }"
      >
        {{ 'USE_CASE.VIEW_FORM' | translate }}
      </a>
    </div>

    <mat-card class="card-info">
      <mat-list>
        <mat-list-item>
          <app-attachments-table
            [attachments]="exampleAttachments"
            style="width: 100%"
          ></app-attachments-table>
        </mat-list-item>
      </mat-list>
    </mat-card>
  </ng-container>
</div>
